#!/usr/bin/env perl
use strict;
use Shell::Parser;

my $parser = new Shell::Parser handlers => { default => \&dumpnode };
$parser->parse(join '', <>);

sub dumpnode {
    my $self = shift;
    my %args = @_;
    my $token = $args{token};
    my $type = $args{type};
    if (${type} eq "text" and ${token} =~ m,\S,) {
        if (${token} =~ m,^",) {
            printf "%s, ", $token;
        } else {
            printf '"%s", ', ${token};
        }
    }
}
