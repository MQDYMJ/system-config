#!/bin/bash

set -x
exec >> ~/tmp/firefox.log 2>&1

declare -x -p > ~/tmp/firefox.env

if test -e ~/external/the-firefox; then
    the_firefox=$(readlink -f ~/external/the-firefox)
elif test -e ~/system-config/bin/the-firefox; then
    the_firefox=$(readlink -f ~/system-config/bin/the-firefox)
elif test -x /usr/bin/firefox; then
    the_firefox=/usr/bin/firefox
else
    bhj-notify "Error" "Firefox not found, please install it first!"
    exit 1
fi

find-or-exec firefox $the_firefox
exec $the_firefox "$@"

