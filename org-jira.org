* Introduction

[[http://orgmode.org][Org-mode]] is the best GTD (get things done) tool I have used. If you
didn't use it, please consider give it a shot.

Jira is, well, a very popular Bug Tracking system. Two companies in a
row where I worked chose Jira for bug tracking, task management, etc.

As an emacs enthusiast, I very much want to be able to use Jira within
Emacs. Thus I started digging the web for a solution.

To use Jira without the browser, you can use a) xmp-rpc, b) soap, c)
REST. I don't know what the last one is, but their supported degree by
Jira is in ascending order. The former 2 protocols has both been
supported by Emacs plugin: [[https://launchpad.net/xml-rpc-el][xml-rpc]] and [[http://code.google.com/p/emacs-soap-client/][soap]].

For xml-rpc, there is already a [[http://www.emacswiki.org/emacs/org-jira.el][jira.el]], but it is not satisfactory for me:

- xml-rpc is not as well supported as soap by Jira.
- jira.el is a stand-alone tool, while I want to integrate with
  org-mode.

Luckily, the emacs-soap-client guy(s) already provided a sample
jira2.el, so I started hacking by combining jira.el and jira2.el, the
new jira2.el is [[http://github.com/baohaojun/windows-config/raw/master/.emacs_d/org-jira/jira2.el][here]].

After browsing Jira with jira2.el is implemented, I checked [[https://github.com/punchagan/org2blog][org2blog]]
for ideas of how to hack on org-mode, and started from his org2blog.el
and hacked into a new [[http://github.com/baohaojun/windows-config/raw/master/.emacs_d/org-jira/org-jira.el][org-jira.el]].

* Features

** Sync Jira tickets into Org-mode todo items in a batch mode.

Jira ticket attributes such as priority, status, resolution, summary,
description, etc. are supported. New ones can be added if desired by
hacking the elisp.

See the following example. Jira ticket summary has been used as the
Org TODO headline; most Jira ticket attributes have been made into Org
entry; Jira description attribute is made into a separate subtitle
because unlike most attributes it is multi-line.

#+begin_example
    * TODO test summary						 :SANDBOX_22:
      :PROPERTIES:
      :assignee: hjbao
      :reporter: hjbao
      :type:     Bug
      :priority: Major
      :status:   Open
      :ID:       SANDBOX-22
      :END:
    
    ** description: SANDBOX-22
    test description
    ** Comment: Bao Haojun
       :PROPERTIES:
       :ID:       21322
       :END:
    test comment
#+end_example
  
Also note the ID Org entry, both the Jira issue and Jira comment has
an attribute ideal for this entry. Org-mode has an API for finding
heading from ID entry.

** Update Org-mode new edits back to Jira

After you edit the attributes, such as change priority from "Major" to
"Minor", you can post it back the Jira.

** Create new Jira issue in org mode

You can create new Jira issue within org mode. You will be prompted
for Jira ticket information such as create in which project, assign to
whom, and one-line summary, etc.

** Convert existing org mode TODO item into Jira ticket

This one is similar to the create-new-issue case, except the existing
TODO headline can be used for Jira ticket summary.

** Edit existing Jira comments / add new comment

These are also supported.


* Usage

To use org-jira.el, you need download all the .el files under [[http://github.com/baohaojun/windows-config/tree/master/.emacs_d/org-jira][org-jira]].

(You can get the soap files from emacs-soap project, but I fixed an
utf-8 encoding bug in it so that I can post comments in Chinese).

#+begin_src emacs-lisp
(setq jira2-url "http://jira-host")
(require 'jira2)
(require 'org-jira)
#+end_src


