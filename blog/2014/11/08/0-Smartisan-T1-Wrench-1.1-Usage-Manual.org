#+title: 专为Smartisan T1而生的小扳手T1Wrench 1.1版使用说明
# bhj-tags: tool

做这个软件最初的原因，是因为我在Linux下没有QQ可以用。后来发现可以把手
机上的QQ通过安卓的input机制控制键盘、触摸屏进行操作的时候，我就想能不
能把整个聊天的功能给它打通。大概就是这样子😊

* 安装使用步骤

1. 下载

   Windows版本的下载地址在： https://github.com/baohaojun/T1Wrench/archive/windows-release.zip

   Mac版本的下载地址在： https://github.com/baohaojun/T1Wrench/archive/macos-release.zip

2. 安装

   直接解压即可。

3. 运行

   Windows: 点击T1Wrench.exe
   Mac: 点击T1Wrench.app

** 使用

1. 刚启动时，程序界面如图所示：

   [[../../../../images/open-wrench.png][file:../../../../images/open-wrench.png]]

   注意这时如果没有连手机，右下角的图标是红色的。

2. 连接手机

   手机与PC之间通过adb连上之后，右下角图标变成绿色，如图所示：

   [[../../../../images/wrench-adb-connected.png][file:../../../../images/wrench-adb-connected.png]]

   关于安卓手机应该怎样与PC通过adb连接的问题，可以上网查一下，这里不再
   赘述。可以参考一下锤子科技论坛的这篇文章：
   http://bbs.smartisan.cn/thread-60797-1-1.html。

   注意小扳手自己带了一个adb，是谷歌官方的 1.0.31 版，如果你系统里安装
   了最新的1.0.32版的话，强烈建议删掉，这个版本跟小扳手完全不兼容😭。

3. 点击“设置”按钮。一步一步按照它的提示往下走，目前的Smartisan T1上市
   版本自带的剪贴板程序比较老，需要更新一下，这个按钮最主要的功能就是
   做这个。需要确保手机系统设置里的这个选项是勾上的才能成功：

   [[../../../../images/adb-setting-unknown-apk.png][file:../../../../images/adb-setting-unknown-apk.png]]

   否则会提示安装失败：

   [[../../../../images/adb-apk-failed.png][file:../../../../images/adb-apk-failed.png]]

   为了系统安全起见，可以在安装完成之后取消这个手机上这个未知来源选项。

3. 文字聊天

   当手机上的QQ等被支持的应用程序处在聊天界面时，比如下图：

   [[../../../../images/Screenshot_2014-11-10-16-21-52_QQ.png][file:../../../../images/Screenshot_2014-11-10-16-21-52_QQ.png]]

   这时可以在小扳手上方的窗口输入，并按Ctrl-Enter（Control+回车键）即
   可发送，也可以点击右下方的锤子按钮：

   [[../../../../images/chat-hello.png][file:../../../../images/chat-hello.png]]

   其余应用程序如微信聊天、微博私信聊天、发送短信等界面使用方法非常类
   似，小扳手会自动识别是哪种窗口，比如发表一条新微博的窗口下，小扳手
   控制手机的方法与微信聊天的方法是不一样的，它会自动识别。如果识别不
   出来是哪种特殊的窗口的话，会一律以微信聊天窗口的控制方法处理。几乎
   所有的聊天程序QQ、微信、微博私信、旺旺等，它们的聊天界面非常类似，
   所以可以用同一种方法处理。

4. 图片和截屏功能

   分别点击相应的按钮即可。

5. 发表文字微博、微信朋友圈

   和3中所说的聊天功能类似，区别只是需要先把微博或者微信的按钮先选中使
   它处于激活状态。如果两个都处于激活状态的话，会同时发表一条微博和一
   条朋友圈分享。

6. 发表图片微博、微信朋友圈

   在微博/微信按钮激活的时候，输入完文字不点发送，而是点图片/截屏按钮
   的话，就会发一条图片微博和、或朋友圈分享。

   如果点图片按钮的话，可以选择多张图片，不要超过9张，因为两个社交应用
   都最多只支持一次发9张图片。

** 常见问题

- 程序后台出错。目前没有好的办法，只能重启小扳手，以后的版本里应该重新
  点一下小扳手的“设置”按钮就好了。如果重启也不能解决问题，并且经常发生
  的话，你可以截一个屏然后微博私信给我看看😂。

- 图片选择错误。在发送图片时可能会发生这种错误，原因不明，估计应该是跟
  手机相册的图片排序方法有关。比如手机上最新的照片是今天拍摄的，这时你
  想发送一张电脑上的老照片，这时候很可能在相册里这张老照片会排到新照片
  的后面。小扳手的工作方式是把要上传的图片发送到手机上，然后就认定这些
  图片因为是手机上最新的图片，所以应该排在最前...

- 偶尔操作失常。小扳手的操作方式基本上是非常机械化的，相当于人用手机聊
  天时各种动作的一个录制回放，所以偶尔某些步骤不一致时操作会失败。比如
  有时手机在后台打开一个大文件，然后QQ聊天的窗口打开速度慢了一点...

* 功能简介

** 用它聊微信

[[../../../../images/weixin-chat.png][file:../../../../images/weixin-chat.png]]

** 用它聊微博

[[../../../../images/weibo-chat.png][file:../../../../images/weibo-chat.png]]

** 用它聊QQ

[[../../../../images/qq-chat.png][file:../../../../images/qq-chat.png]]

哦，对了，我有说以上三种聊天，它都是支持发图片、截屏的吗？

** 用它聊旺旺

[[../../../../images/wangwang-chat.png][file:../../../../images/wangwang-chat.png]]

** 用它发短信、回短信、回邮件、发Google+，等等等等

无限种可能😄

** 用它在微信朋友圈里评论、回复

** 用它在微信朋友圈里发带段落的文字分享

[[../../../../images/weixin-sns.png][file:../../../../images/weixin-sns.png]]

** 用它发文字微博

[[../../../../images/weibo-share.png][file:../../../../images/weibo-share.png]]

** 用它发文字微信朋友圈分享

[[../../../../images/weixin-share.png][file:../../../../images/weixin-share.png]]

** 用它同时发文字微博和文字微信朋友圈分享

好吧，你是社交达人，影响力无限😄

方法就是同时点中这两个按钮😼

[[../../../../images/both-share.png][file:../../../../images/both-share.png]]

** 用它发图文并茂的微博

** 用它发图文并茂的微信朋友圈分享

** 用它同时发图文并茂的微博和微信朋友圈分享

** 用它为我点赞、涨粉

如果您觉得这个软件好用、有趣，请点一下这个按钮：

[[../../../../images/thumbs-up.png][file:../../../../images/thumbs-up.png]]

* 核心源码公开

所有的核心逻辑都在 [[https://github.com/baohaojun/T1Wrench/raw/windows-release/t1wrench.lua][这个.lua文件]] 里。

比如你可以轻易地在命令行上：

#+BEGIN_SRC sh
t1wrench.lua t1_post 'hello world'
#+END_SRC

如果你跟我一样，是个Linux + Emacs爱好者，建议你用这个脚本自己写一套在
Emacs下聊天的工具，这样即使在Linux下，你也可以聊QQ找女朋友了😄

或者你还可以试试，能不能在Linux下用Emacs聊陌陌，直接约一个？

** 其他手机支不支持？

安卓4.4以上，分辨率为1920x1080的手机，很有可能可以支持。但有个虚拟按键
适配的问题，它会导致屏幕真正的可用空间不足1920x1080。

我现在手上只有一个联通版的三星Note3，试了一下，那个点赞的按钮的功能是
完好的，其余的功能大部分都不行，因为它是4.3版的安卓，并且不支持升级😠。

有兴趣的同学可以试一下，欢迎给我发patch。

当然，作为锤子科技的员工，更欢迎您购买我们公司的手机😄
